{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nimport * as i2 from \"@angular/common\";\nfunction UsersComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1, \"User successfully deleted\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1, \"There was an error deleting the user, please try again!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.error);\n  }\n}\nfunction UsersComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_3_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.confirm());\n    });\n    i0.ɵɵtext(4, \"Confirm\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_3_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.cancel());\n    });\n    i0.ɵɵtext(6, \"Cancel\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.removeMessage);\n  }\n}\nfunction UsersComponent_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"tr\")(2, \"th\");\n    i0.ɵɵtext(3, \"Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"th\");\n    i0.ɵɵtext(5, \"Username\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Role\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Actions\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"tr\")(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\")(22, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_6_div_1_Template_button_click_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const user_r10 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.remove(user_r10.username));\n    });\n    i0.ɵɵtext(23, \"Remove\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const user_r10 = ctx.$implicit;\n    i0.ɵɵadvance(14);\n    i0.ɵɵtextInterpolate(user_r10.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r10.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", user_r10.firstName, \"\", user_r10.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r10.role);\n  }\n}\nfunction UsersComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtemplate(1, UsersComponent_div_6_div_1_Template, 24, 5, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.users);\n  }\n}\nfunction UsersComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2, \"There are no users\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class UsersComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.users = new Array();\n    this.removeTrue = false;\n    this.successDeleted = false;\n    this.errorOnDelete = false;\n  }\n  ngOnInit() {\n    this.listAll();\n  }\n  listAll() {\n    this.userService.all().subscribe(res => {\n      for (let k in res['content']) {\n        this.users.push(res['content'][k]);\n      }\n      console.log(this.users);\n    }, err => {\n      if (err.status === 403) {\n        this.error = \"You do not have permission to access this page.\";\n      }\n    });\n  }\n  remove(username) {\n    this.removeTrue = true;\n    this.removeMessage = `${'Are you sure you want to delete the user'} ${username} ?`;\n    this.userToDelete = username;\n  }\n  cancel() {\n    this.removeTrue = false;\n  }\n  confirm() {\n    this.removeUser(this.userToDelete);\n  }\n  removeUser(username) {\n    this.removeTrue = false;\n    this.userService.remove(username).subscribe(res => {\n      this.successDeleted = true;\n      setTimeout(() => {\n        this.successDeleted = false;\n      }, 2000);\n    }, err => {\n      this.errorOnDelete = true;\n      setTimeout(() => {\n        this.errorOnDelete = false;\n        ;\n      }, 2000);\n    }, () => {});\n  }\n}\nUsersComponent.ɵfac = function UsersComponent_Factory(t) {\n  return new (t || UsersComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n};\nUsersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsersComponent,\n  selectors: [[\"app-users\"]],\n  decls: 8,\n  vars: 6,\n  consts: [[\"class\", \"success-popup\", 4, \"ngIf\"], [\"class\", \"error-popup\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"confirm\", 4, \"ngIf\"], [1, \"main\"], [1, \"container\"], [\"class\", \"table-div\", 4, \"ngIf\"], [1, \"success-popup\"], [1, \"error-popup\"], [1, \"confirm\"], [3, \"click\"], [1, \"table-div\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function UsersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, UsersComponent_div_0_Template, 2, 0, \"div\", 0);\n      i0.ɵɵtemplate(1, UsersComponent_div_1_Template, 2, 0, \"div\", 1);\n      i0.ɵɵtemplate(2, UsersComponent_div_2_Template, 3, 1, \"div\", 2);\n      i0.ɵɵtemplate(3, UsersComponent_div_3_Template, 7, 1, \"div\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5);\n      i0.ɵɵtemplate(6, UsersComponent_div_6_Template, 2, 1, \"div\", 6);\n      i0.ɵɵtemplate(7, UsersComponent_div_7_Template, 3, 0, \"div\", 2);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.successDeleted);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorOnDelete);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.error);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.removeTrue);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.users.length != 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.users.length === 0);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf],\n  styles: [\".main[_ngcontent-%COMP%]{\\n    padding: 50px;\\n}\\n.container[_ngcontent-%COMP%]{\\n    display: flex;\\n    flex-direction: column;\\n    align-items: start;\\n    gap: 20px;\\n    border: 1px solid black;\\n}\\ntable[_ngcontent-%COMP%] {\\n    font-family: arial, sans-serif;\\n    border-collapse: collapse;\\n    width: 100%;\\n  }\\n  \\n  td[_ngcontent-%COMP%], th[_ngcontent-%COMP%] {\\n    border: 1px solid #5469D4;\\n    text-align: left;\\n    padding: 8px;\\n  }\\n  \\n  tr[_ngcontent-%COMP%]:nth-child(even) {\\n    background-color: #5469D4;\\n  }\\n  .form-bg[_ngcontent-%COMP%]{\\n    display: flex;\\n    flex-direction: column;\\n    gap: 20px;\\n    align-items: flex-start;\\n    justify-content: center;\\n    background-color: #ffffff;\\n    box-sizing: border-box;\\n    padding: 48px;\\n    width: 500px;\\n    height: auto;\\n    \\n   \\n}\\n.sign[_ngcontent-%COMP%]{\\n    font-size: 20px;\\n}\\n.form-container[_ngcontent-%COMP%]{\\n    display: flex;\\n    flex-direction: column;\\n    gap: 5px;\\n}\\n\\nform[_ngcontent-%COMP%]{\\n    background-color: #ffffff;\\n    width: 80%\\n}\\n.label[_ngcontent-%COMP%]{\\n    color: #000000;\\n    font-size: 14px;\\n    font-weight: 600px;\\n    display: block;\\n    background-color: #ffffff;\\n    margin-top: 1px;\\n\\n}\\n.input-div[_ngcontent-%COMP%]{\\n    display: flex;\\n    flex-direction: row;\\n   \\n    border-radius: 4px;\\n    box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.346);\\n    width: 100%;\\n    height: 25px;\\n    margin-bottom: 3px;\\n    margin-top: 3px;\\n   \\n\\n\\n}\\n.field-input[_ngcontent-%COMP%]{\\n   text-decoration: none;\\n   border: none;\\n  \\n   border-radius: 0px;\\n   height: 100%;\\n   width: 100%;\\n   font-size: 16px;\\n  \\n}\\n.show[_ngcontent-%COMP%]{\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    border-radius: 4px;\\n    box-shadow: 1px 1px 1px 1px  rgba(0, 0, 0, 0.072);\\n}\\n.submit-btn[_ngcontent-%COMP%]{\\n    font-size: 16px;\\n    width: 100%;\\n    background-color: rgb(84, 105, 212);\\n    color: #ffffff;\\n    box-shadow:1px 1px 1px 1px rgba(0, 0, 0, 0.089);\\n    border-radius: 4px;\\n    padding: 8px 16px;\\n    margin-top: 5px;\\n    \\n}\\n\\n.danger[_ngcontent-%COMP%]{\\n    font-size: 13px;\\n    color: red;\\n    padding: 0px;\\n    border: 0px;\\n    margin: 0px;\\n}\\n.error[_ngcontent-%COMP%]{\\n    display: flex;\\n    flex-direction: column;\\n    gap: 1px;\\n    border: 0px;\\n    padding: 0px;\\n    margin: 0px;\\n    margin-bottom: 10px;\\n}\\n.success-popup[_ngcontent-%COMP%]{\\n    background-color: rgba(24, 144, 24, 0.842);\\n    padding: 5px;\\n    width: 100%;\\n    border-radius: 4px;\\n    color: white;\\n}\\n.error-popup[_ngcontent-%COMP%]{\\n    background-color: rgba(232, 47, 19, 0.842);\\n    padding: 5px;\\n    width: 100%;\\n    border-radius: 4px;\\n    color: white;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy91c2Vycy91c2Vycy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtBQUNqQjtBQUNBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsU0FBUztJQUNULHVCQUF1QjtBQUMzQjtBQUNBO0lBQ0ksOEJBQThCO0lBQzlCLHlCQUF5QjtJQUN6QixXQUFXO0VBQ2I7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsZ0JBQWdCO0lBQ2hCLFlBQVk7RUFDZDs7RUFFQTtJQUNFLHlCQUF5QjtFQUMzQjtFQUNBO0lBQ0UsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixTQUFTO0lBQ1QsdUJBQXVCO0lBQ3ZCLHVCQUF1QjtJQUN2Qix5QkFBeUI7SUFDekIsc0JBQXNCO0lBQ3RCLGFBQWE7SUFDYixZQUFZO0lBQ1osWUFBWTs7O0FBR2hCO0FBQ0E7SUFDSSxlQUFlO0FBQ25CO0FBQ0E7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLFFBQVE7QUFDWjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QjtBQUNKO0FBQ0E7SUFDSSxjQUFjO0lBQ2QsZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixjQUFjO0lBQ2QseUJBQXlCO0lBQ3pCLGVBQWU7O0FBRW5CO0FBQ0E7SUFDSSxhQUFhO0lBQ2IsbUJBQW1COztJQUVuQixrQkFBa0I7SUFDbEIsZ0RBQWdEO0lBQ2hELFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7Ozs7QUFJbkI7QUFDQTtHQUNHLHFCQUFxQjtHQUNyQixZQUFZOztHQUVaLGtCQUFrQjtHQUNsQixZQUFZO0dBQ1osV0FBVztHQUNYLGVBQWU7O0FBRWxCO0FBQ0E7SUFDSSxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsaURBQWlEO0FBQ3JEO0FBQ0E7SUFDSSxlQUFlO0lBQ2YsV0FBVztJQUNYLG1DQUFtQztJQUNuQyxjQUFjO0lBQ2QsK0NBQStDO0lBQy9DLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsZUFBZTs7QUFFbkI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsVUFBVTtJQUNWLFlBQVk7SUFDWixXQUFXO0lBQ1gsV0FBVztBQUNmO0FBQ0E7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLFFBQVE7SUFDUixXQUFXO0lBQ1gsWUFBWTtJQUNaLFdBQVc7SUFDWCxtQkFBbUI7QUFDdkI7QUFDQTtJQUNJLDBDQUEwQztJQUMxQyxZQUFZO0lBQ1osV0FBVztJQUNYLGtCQUFrQjtJQUNsQixZQUFZO0FBQ2hCO0FBQ0E7SUFDSSwwQ0FBMEM7SUFDMUMsWUFBWTtJQUNaLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsWUFBWTtBQUNoQiIsInNvdXJjZXNDb250ZW50IjpbIi5tYWlue1xuICAgIHBhZGRpbmc6IDUwcHg7XG59XG4uY29udGFpbmVye1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogc3RhcnQ7XG4gICAgZ2FwOiAyMHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xufVxudGFibGUge1xuICAgIGZvbnQtZmFtaWx5OiBhcmlhbCwgc2Fucy1zZXJpZjtcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG4gIFxuICB0ZCwgdGgge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM1NDY5RDQ7XG4gICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICBwYWRkaW5nOiA4cHg7XG4gIH1cbiAgXG4gIHRyOm50aC1jaGlsZChldmVuKSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzU0NjlENDtcbiAgfVxuICAuZm9ybS1iZ3tcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZ2FwOiAyMHB4O1xuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBwYWRkaW5nOiA0OHB4O1xuICAgIHdpZHRoOiA1MDBweDtcbiAgICBoZWlnaHQ6IGF1dG87XG4gICAgXG4gICBcbn1cbi5zaWdue1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbn1cbi5mb3JtLWNvbnRhaW5lcntcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZ2FwOiA1cHg7XG59XG5cbmZvcm17XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbiAgICB3aWR0aDogODAlXG59XG4ubGFiZWx7XG4gICAgY29sb3I6ICMwMDAwMDA7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGZvbnQtd2VpZ2h0OiA2MDBweDtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuICAgIG1hcmdpbi10b3A6IDFweDtcblxufVxuLmlucHV0LWRpdntcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICBcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgYm94LXNoYWRvdzogMXB4IDFweCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4zNDYpO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMjVweDtcbiAgICBtYXJnaW4tYm90dG9tOiAzcHg7XG4gICAgbWFyZ2luLXRvcDogM3B4O1xuICAgXG5cblxufVxuLmZpZWxkLWlucHV0e1xuICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgYm9yZGVyOiBub25lO1xuICBcbiAgIGJvcmRlci1yYWRpdXM6IDBweDtcbiAgIGhlaWdodDogMTAwJTtcbiAgIHdpZHRoOiAxMDAlO1xuICAgZm9udC1zaXplOiAxNnB4O1xuICBcbn1cbi5zaG93e1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgYm94LXNoYWRvdzogMXB4IDFweCAxcHggMXB4ICByZ2JhKDAsIDAsIDAsIDAuMDcyKTtcbn1cbi5zdWJtaXQtYnRue1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoODQsIDEwNSwgMjEyKTtcbiAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICBib3gtc2hhZG93OjFweCAxcHggMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMDg5KTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgbWFyZ2luLXRvcDogNXB4O1xuICAgIFxufVxuXG4uZGFuZ2Vye1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBjb2xvcjogcmVkO1xuICAgIHBhZGRpbmc6IDBweDtcbiAgICBib3JkZXI6IDBweDtcbiAgICBtYXJnaW46IDBweDtcbn1cbi5lcnJvcntcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZ2FwOiAxcHg7XG4gICAgYm9yZGVyOiAwcHg7XG4gICAgcGFkZGluZzogMHB4O1xuICAgIG1hcmdpbjogMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG4uc3VjY2Vzcy1wb3B1cHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI0LCAxNDQsIDI0LCAwLjg0Mik7XG4gICAgcGFkZGluZzogNXB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBjb2xvcjogd2hpdGU7XG59XG4uZXJyb3ItcG9wdXB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMzIsIDQ3LCAxOSwgMC44NDIpO1xuICAgIHBhZGRpbmc6IDVweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgY29sb3I6IHdoaXRlO1xufVxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","UsersComponent","constructor","userService","Array","ngOnInit","listAll","all","subscribe","res","k","users","push","console","log","err","status","error","remove","username","removeTrue","removeMessage","userToDelete","cancel","confirm","removeUser","successDeleted","setTimeout","errorOnDelete","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/sam/Desktop/auth-front-end/src/app/components/users/users.component.html","/home/sam/Desktop/auth-front-end/src/app/components/users/users.component.ts"],"sourcesContent":["<div class=\"success-popup\" *ngIf=\"successDeleted\">User successfully deleted</div>\n<div class=\"error-popup\" *ngIf=\"errorOnDelete\">There was an error deleting the user, please try again!</div>\n<div *ngIf=\"error\">\n    <h3>{{error}}</h3>\n</div>\n<div *ngIf=\"removeTrue\" class=\"confirm\">\n    <p>{{removeMessage}}</p>\n    <button (click)=\"confirm()\">Confirm</button>\n    <button (click)=\"cancel()\">Cancel</button>\n</div>\n\n<div class=\"main\">\n    <div class=\"container\">\n        <div *ngIf=\"users.length != 0\" class=\"table-div\">\n           <div  *ngFor=\"let user of users\">\n            <tr>\n                <th>Id</th>\n                <th>Username</th>\n                <th>Name</th>\n                <th>Role</th>\n                <th>Actions</th>\n            </tr>\n            <tr>\n                <td>{{user.id}}</td>\n                <td>{{user.username}}</td>\n                <td>{{user.firstName}}{{user.lastName}}</td>\n                <td>{{user.role}}</td>\n                <td><button (click)=\"remove(user.username)\">Remove</button></td>\n            </tr>\n           </div>\n    \n        </div>\n        <div *ngIf=\"users.length === 0\">\n            <h3>There are no users</h3>\n        </div>\n       \n    \n    </div>\n</div>","import { Component } from '@angular/core';\nimport { User } from 'src/app/model/user.model';\nimport { UserService } from 'src/app/services/user.service';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})\nexport class UsersComponent {\n\n  users =  new Array<User>;\n  user: User;\n  error : string;\n  removeTrue =  false;\n  removeMessage: string;\n  userToDelete: string;\n  successDeleted = false;\n  errorOnDelete = false;\n\n  constructor(private userService: UserService){}\n\n\n  ngOnInit(): void {\n    this.listAll();\n  }\n\n  \n\n  listAll(){\n    this.userService.all()\n      .subscribe((res) => {\n       \n        for(let k in res['content']){\n        \n          this.users.push((res['content'][k]));\n          \n        }\n        console.log(this.users)\n       \n       \n        \n      }, (err) => {\n          \n          if(err.status === 403){\n             this.error = \"You do not have permission to access this page.\";\n             \n          }\n      })\n\n  }\n  remove(username){\n    this.removeTrue = true;\n    this.removeMessage = `${'Are you sure you want to delete the user'} ${username} ?`;\n    this.userToDelete = username;\n  \n  }\n  cancel(){\n      this.removeTrue = false;\n  }\n  confirm(){\n   this.removeUser(this.userToDelete);\n  }\n  removeUser(username){\n    this.removeTrue = false;\n    \n      this.userService.remove(username)\n      .subscribe((res) => {\n        this.successDeleted = true;\n          setTimeout(() => {\n            this.successDeleted = false;\n           \n          },2000);\n      },(err) => {\n        \n        this.errorOnDelete = true;\n        setTimeout(() => {\n          this.errorOnDelete = false;\n         ;\n\n        },2000);\n       \n       \n      },() => {\n          \n      })\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}