{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nimport * as i2 from \"@angular/common\";\nfunction UsersComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1, \"User successfully deleted\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1, \"There was an error deleting the user, please try again!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.error);\n  }\n}\nfunction UsersComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 13)(4, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_3_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.confirm());\n    });\n    i0.ɵɵtext(5, \"Confirm\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_3_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.cancel());\n    });\n    i0.ɵɵtext(7, \"Cancel\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.removeMessage);\n  }\n}\nfunction UsersComponent_div_13_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_13_tr_13_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const user_r10 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.remove(user_r10.username));\n    });\n    i0.ɵɵtext(11, \"Remove\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r10 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r10.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", user_r10.firstName, \" \", user_r10.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r10.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r10.role);\n  }\n}\nfunction UsersComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"table\")(2, \"tr\", 17)(3, \"th\");\n    i0.ɵɵtext(4, \"Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Username\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Role\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Actions\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(13, UsersComponent_div_13_tr_13_Template, 12, 5, \"tr\", 18);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.users);\n  }\n}\nfunction UsersComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2, \"There are no users\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class UsersComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.users = new Array();\n    this.removeTrue = false;\n    this.successDeleted = false;\n    this.errorOnDelete = false;\n  }\n  ngOnInit() {\n    this.listAll();\n    this.getUser();\n  }\n  getUser() {\n    this.userService.me().subscribe(res => {\n      this.user = res;\n      this.userInSession = this.user.username;\n      console.log(this.user);\n      let index = this.users.indexOf(this.user);\n    }, err => {});\n  }\n  listAll() {\n    this.userService.all().subscribe(res => {\n      for (let k in res['content']) {\n        this.users.push(res['content'][k]);\n      }\n    }, err => {\n      if (err.status === 403) {\n        this.error = \"You do not have permission to access this page.\";\n      }\n    });\n  }\n  remove(username) {\n    this.removeTrue = true;\n    this.removeMessage = `${'Are you sure you want to delete the user'} ${username} ?`;\n    this.userToDelete = username;\n  }\n  cancel() {\n    this.removeTrue = false;\n  }\n  confirm() {\n    this.removeUser(this.userToDelete);\n  }\n  removeUser(username) {\n    this.removeTrue = false;\n    this.userService.remove(username).subscribe(res => {\n      this.successDeleted = true;\n      setTimeout(() => {\n        this.successDeleted = false;\n      }, 2000);\n    }, err => {\n      this.errorOnDelete = true;\n      setTimeout(() => {\n        this.errorOnDelete = false;\n        ;\n      }, 2000);\n    }, () => {});\n  }\n}\nUsersComponent.ɵfac = function UsersComponent_Factory(t) {\n  return new (t || UsersComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n};\nUsersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsersComponent,\n  selectors: [[\"app-users\"]],\n  decls: 15,\n  vars: 6,\n  consts: [[\"class\", \"success-popup\", 4, \"ngIf\"], [\"class\", \"error-popup\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"modal\", 4, \"ngIf\"], [1, \"main\"], [1, \"profile\"], [1, \"blue\"], [1, \"line\"], [1, \"container\"], [\"class\", \"table-div\", 4, \"ngIf\"], [1, \"success-popup\"], [1, \"error-popup\"], [1, \"modal\"], [1, \"buttons\"], [1, \"confirm-btn\", 3, \"click\"], [1, \"cancel-btn\", 3, \"click\"], [1, \"table-div\"], [1, \"top-tr\"], [4, \"ngFor\", \"ngForOf\"], [1, \"delete-btn\", 3, \"click\"]],\n  template: function UsersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, UsersComponent_div_0_Template, 2, 0, \"div\", 0);\n      i0.ɵɵtemplate(1, UsersComponent_div_1_Template, 2, 0, \"div\", 1);\n      i0.ɵɵtemplate(2, UsersComponent_div_2_Template, 3, 1, \"div\", 2);\n      i0.ɵɵtemplate(3, UsersComponent_div_3_Template, 8, 1, \"div\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5)(6, \"div\")(7, \"h3\", 6);\n      i0.ɵɵtext(8, \"Users\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"p\");\n      i0.ɵɵtext(10, \"List all users\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(11, \"div\", 7);\n      i0.ɵɵelementStart(12, \"div\", 8);\n      i0.ɵɵtemplate(13, UsersComponent_div_13_Template, 14, 1, \"div\", 9);\n      i0.ɵɵtemplate(14, UsersComponent_div_14_Template, 3, 0, \"div\", 2);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.successDeleted);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorOnDelete);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.error);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.removeTrue);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngIf\", ctx.users.length != 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.users.length === 0);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf],\n  styles: [\".container[_ngcontent-%COMP%]{\\n    padding-top: 20px;\\n}\\ntable[_ngcontent-%COMP%] {\\n    font-family: arial, sans-serif;\\n    border-collapse: collapse;\\n    width: 100%;\\n}\\n\\ntd[_ngcontent-%COMP%], th[_ngcontent-%COMP%] {\\n    border-bottom: 1px solid rgba(0, 0, 0, 0.38);\\n    text-align: left;\\n    padding: 8px;\\n    \\n}\\n.top-tr[_ngcontent-%COMP%]{\\n    background-color: rgb(84, 105, 212);\\n}\\n\\n.modal[_ngcontent-%COMP%] {\\n    background: #fff;\\n    border-radius: 8px;\\n    box-shadow: 0 2px 8px #333;\\n    min-width: 320px;\\n    position: fixed;\\n    left: 50%;\\n    padding: 24px;\\n    top: 50%;\\n    transform: translate(-50%, -50%);\\n    display: flex;\\n    flex-direction: column;\\n  }\\n  .buttons[_ngcontent-%COMP%]{\\n    display: flex;\\n    flex-direction: row;\\n    gap: 5px;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy91c2Vycy91c2Vycy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSSw4QkFBOEI7SUFDOUIseUJBQXlCO0lBQ3pCLFdBQVc7QUFDZjs7QUFFQTtJQUNJLDRDQUE0QztJQUM1QyxnQkFBZ0I7SUFDaEIsWUFBWTs7QUFFaEI7QUFDQTtJQUNJLG1DQUFtQztBQUN2Qzs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsMEJBQTBCO0lBQzFCLGdCQUFnQjtJQUNoQixlQUFlO0lBQ2YsU0FBUztJQUNULGFBQWE7SUFDYixRQUFRO0lBQ1IsZ0NBQWdDO0lBQ2hDLGFBQWE7SUFDYixzQkFBc0I7RUFDeEI7RUFDQTtJQUNFLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsUUFBUTtFQUNWIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lcntcbiAgICBwYWRkaW5nLXRvcDogMjBweDtcbn1cbnRhYmxlIHtcbiAgICBmb250LWZhbWlseTogYXJpYWwsIHNhbnMtc2VyaWY7XG4gICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgICB3aWR0aDogMTAwJTtcbn1cblxudGQsdGgge1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMzgpO1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgcGFkZGluZzogOHB4O1xuICAgIFxufVxuLnRvcC10cntcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoODQsIDEwNSwgMjEyKTtcbn1cblxuLm1vZGFsIHtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICBib3gtc2hhZG93OiAwIDJweCA4cHggIzMzMztcbiAgICBtaW4td2lkdGg6IDMyMHB4O1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICBsZWZ0OiA1MCU7XG4gICAgcGFkZGluZzogMjRweDtcbiAgICB0b3A6IDUwJTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIH1cbiAgLmJ1dHRvbnN7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGdhcDogNXB4O1xuICB9XG4gIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","UsersComponent","constructor","userService","Array","ngOnInit","listAll","getUser","me","subscribe","res","user","userInSession","username","console","log","index","users","indexOf","err","all","k","push","status","error","remove","removeTrue","removeMessage","userToDelete","cancel","confirm","removeUser","successDeleted","setTimeout","errorOnDelete","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/sam/Desktop/auth-front-end/src/app/components/users/users.component.html","/home/sam/Desktop/auth-front-end/src/app/components/users/users.component.ts"],"sourcesContent":["<div class=\"success-popup\" *ngIf=\"successDeleted\">User successfully deleted</div>\n<div class=\"error-popup\" *ngIf=\"errorOnDelete\">There was an error deleting the user, please try again!</div>\n<div *ngIf=\"error\">\n    <h3>{{error}}</h3>\n</div>\n<div *ngIf=\"removeTrue\" class=\"modal\">\n    <p>{{removeMessage}}</p>\n    <div class=\"buttons\">\n        <button class=\"confirm-btn\" (click)=\"confirm()\">Confirm</button>\n        <button class=\"cancel-btn\" (click)=\"cancel()\">Cancel</button>\n    </div>\n</div>\n\n<div class=\"main\">\n    <div class=\"profile\">\n        <div>\n            <h3 class=\"blue\">Users</h3>\n            <p>List all users</p>\n        </div>\n    \n    </div>\n    <div class=\"line\"></div>\n    <div class=\"container\">\n        <div *ngIf=\"users.length != 0\" class=\"table-div\">\n           \n          \n           \n            <table>\n                <tr class=\"top-tr\">\n                    <th>Id</th>\n                    <th>Name</th>\n                    <th>Username</th>\n                    <th>Role</th>\n                    <th>Actions</th>\n                  </tr>\n              \n                <tr *ngFor=\"let user of users\">\n                  <td>{{user.id}}</td>\n                  <td>{{user.firstName}} {{user.lastName}}</td>\n                  <td>{{user.username}}</td>\n                  <td>{{user.role}}</td>\n                  <td><button class=\"delete-btn\" (click)=\"remove(user.username)\">Remove</button></td>\n                </tr>\n               \n               \n              </table>\n           \n           \n    \n        </div>\n        <div *ngIf=\"users.length === 0\">\n            <h3>There are no users</h3>\n        </div>\n       \n    \n    </div>\n</div>","import { Component } from '@angular/core';\nimport { User } from 'src/app/model/user.model';\nimport { UserService } from 'src/app/services/user.service';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})\nexport class UsersComponent {\n\n  users = new Array<User>;\n  user: User;\n  error: string;\n  removeTrue = false;\n  removeMessage: string;\n  userToDelete: string;\n  successDeleted = false;\n  errorOnDelete = false;\n  userInSession: string;\n\n  constructor(private userService: UserService) {\n    \n\n   }\n\n\n  ngOnInit(): void {\n    this.listAll();\n    this.getUser();\n    \n \n    \n  }\n\n\n  \n   \n  \n  getUser() {\n    this.userService.me()\n      .subscribe((res) => {\n        this.user = res;\n        this.userInSession = this.user.username;\n\n          console.log(this.user)\n          let index = this.users.indexOf(this.user);\n          \n      }, (err) => {\n\n      })\n  }\n  listAll() {\n    this.userService.all()\n      .subscribe((res) => {\n        for (let k in res['content']) {\n            this.users.push((res['content'][k]));\n        }\n        \n\n\n\n\n      }, (err) => {\n\n        if (err.status === 403) {\n          this.error = \"You do not have permission to access this page.\";\n\n        }\n      })\n\n  }\n  remove(username) {\n    this.removeTrue = true;\n    this.removeMessage = `${'Are you sure you want to delete the user'} ${username} ?`;\n    this.userToDelete = username;\n\n  }\n  cancel() {\n    this.removeTrue = false;\n  }\n  confirm() {\n    this.removeUser(this.userToDelete);\n  }\n  removeUser(username) {\n    this.removeTrue = false;\n\n    this.userService.remove(username)\n      .subscribe((res) => {\n        this.successDeleted = true;\n        setTimeout(() => {\n          this.successDeleted = false;\n\n        }, 2000);\n      }, (err) => {\n\n        this.errorOnDelete = true;\n        setTimeout(() => {\n          this.errorOnDelete = false;\n          ;\n\n        }, 2000);\n\n\n      }, () => {\n\n      })\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}