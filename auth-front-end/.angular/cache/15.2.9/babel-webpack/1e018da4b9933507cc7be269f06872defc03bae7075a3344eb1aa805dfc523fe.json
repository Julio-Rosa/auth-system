{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet UsersComponent = class UsersComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.users = new Array();\n    this.removeTrue = false;\n    this.successDeleted = false;\n    this.errorOnDelete = false;\n  }\n  ngOnInit() {\n    this.listAll();\n  }\n  listAll() {\n    this.listService.listAll().subscribe(res => {\n      for (let k in res['content']) {\n        this.users.push(res['content'][k]);\n      }\n      console.log(this.users);\n    }, err => {\n      if (err.status === 403) {\n        this.error = \"You do not have permission to access this page.\";\n      }\n    });\n  }\n  remove(username) {\n    this.removeTrue = true;\n    this.removeMessage = `${'Are you sure you want to delete the user'} ${username} ?`;\n    this.userToDelete = username;\n  }\n  cancel() {\n    this.removeTrue = false;\n  }\n  confirm() {\n    this.removeUser(this.userToDelete);\n  }\n  removeUser(username) {\n    this.removeTrue = false;\n    this.listService.remove(username).subscribe(res => {\n      this.successDeleted = true;\n      setTimeout(() => {\n        this.successDeleted = false;\n      }, 2000);\n    }, err => {\n      this.errorOnDelete = true;\n      setTimeout(() => {\n        this.errorOnDelete = false;\n        ;\n      }, 2000);\n    }, () => {});\n  }\n};\nUsersComponent = __decorate([Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})], UsersComponent);\nexport { UsersComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAOlC,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAWzBC,YAAoBC,WAA6B;IAA7B,gBAAW,GAAXA,WAAW;IAT/B,UAAK,GAAI,IAAIC,KAAW;IAGxB,eAAU,GAAI,KAAK;IAGnB,mBAAc,GAAG,KAAK;IACtB,kBAAa,GAAG,KAAK;EAE8B;EAGnDC,QAAQ;IACN,IAAI,CAACC,OAAO,EAAE;EAChB;EAIAA,OAAO;IACL,IAAI,CAACC,WAAW,CAACD,OAAO,EAAE,CACvBE,SAAS,CAAEC,GAAG,IAAI;MAEjB,KAAI,IAAIC,CAAC,IAAID,GAAG,CAAC,SAAS,CAAC,EAAC;QAE1B,IAAI,CAACE,KAAK,CAACC,IAAI,CAAEH,GAAG,CAAC,SAAS,CAAC,CAACC,CAAC,CAAC,CAAE;;MAGtCG,OAAO,CAACC,GAAG,CAAC,IAAI,CAACH,KAAK,CAAC;IAIzB,CAAC,EAAGI,GAAG,IAAI;MAEP,IAAGA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAC;QACnB,IAAI,CAACC,KAAK,GAAG,iDAAiD;;IAGrE,CAAC,CAAC;EAEN;EACAC,MAAM,CAACC,QAAQ;IACb,IAAI,CAACC,UAAU,GAAG,IAAI;IACtB,IAAI,CAACC,aAAa,GAAG,GAAG,0CAA0C,IAAIF,QAAQ,IAAI;IAClF,IAAI,CAACG,YAAY,GAAGH,QAAQ;EAE9B;EACAI,MAAM;IACF,IAAI,CAACH,UAAU,GAAG,KAAK;EAC3B;EACAI,OAAO;IACN,IAAI,CAACC,UAAU,CAAC,IAAI,CAACH,YAAY,CAAC;EACnC;EACAG,UAAU,CAACN,QAAQ;IACjB,IAAI,CAACC,UAAU,GAAG,KAAK;IAErB,IAAI,CAACb,WAAW,CAACW,MAAM,CAACC,QAAQ,CAAC,CAChCX,SAAS,CAAEC,GAAG,IAAI;MACjB,IAAI,CAACiB,cAAc,GAAG,IAAI;MACxBC,UAAU,CAAC,MAAK;QACd,IAAI,CAACD,cAAc,GAAG,KAAK;MAE7B,CAAC,EAAC,IAAI,CAAC;IACX,CAAC,EAAEX,GAAG,IAAI;MAER,IAAI,CAACa,aAAa,GAAG,IAAI;MACzBD,UAAU,CAAC,MAAK;QACd,IAAI,CAACC,aAAa,GAAG,KAAK;QAC3B;MAED,CAAC,EAAC,IAAI,CAAC;IAGT,CAAC,EAAC,MAAK,CAEP,CAAC,CAAC;EACN;CAED;AA/EY3B,cAAc,eAL1BD,SAAS,CAAC;EACT6B,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACW9B,cAAc,CA+E1B;SA/EYA,cAAc","names":["Component","UsersComponent","constructor","userService","Array","ngOnInit","listAll","listService","subscribe","res","k","users","push","console","log","err","status","error","remove","username","removeTrue","removeMessage","userToDelete","cancel","confirm","removeUser","successDeleted","setTimeout","errorOnDelete","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/sam/Desktop/auth-front-end/src/app/components/users/users.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})\nexport class UsersComponent {\n\n  users =  new Array<User>;\n  user: User;\n  error : string;\n  removeTrue =  false;\n  removeMessage: string;\n  userToDelete: string;\n  successDeleted = false;\n  errorOnDelete = false;\n\n  constructor(private userService: ListUsersService){}\n\n\n  ngOnInit(): void {\n    this.listAll();\n  }\n\n  \n\n  listAll(){\n    this.listService.listAll()\n      .subscribe((res) => {\n       \n        for(let k in res['content']){\n        \n          this.users.push((res['content'][k]));\n          \n        }\n        console.log(this.users)\n       \n       \n        \n      }, (err) => {\n          \n          if(err.status === 403){\n             this.error = \"You do not have permission to access this page.\";\n             \n          }\n      })\n\n  }\n  remove(username){\n    this.removeTrue = true;\n    this.removeMessage = `${'Are you sure you want to delete the user'} ${username} ?`;\n    this.userToDelete = username;\n  \n  }\n  cancel(){\n      this.removeTrue = false;\n  }\n  confirm(){\n   this.removeUser(this.userToDelete);\n  }\n  removeUser(username){\n    this.removeTrue = false;\n    \n      this.listService.remove(username)\n      .subscribe((res) => {\n        this.successDeleted = true;\n          setTimeout(() => {\n            this.successDeleted = false;\n           \n          },2000);\n      },(err) => {\n        \n        this.errorOnDelete = true;\n        setTimeout(() => {\n          this.errorOnDelete = false;\n         ;\n\n        },2000);\n       \n       \n      },() => {\n          \n      })\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}